<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Private Wejkey - Savings</title>
  <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/wejkey/wejkey/main/images/greenwejkey.png">
  <link rel="shortcut icon" href="https://raw.githubusercontent.com/wejkey/wejkey/main/images/greenwejkey.png">
  <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/wejkey/wejkey/main/images/greenwejkey.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <script src="lang.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
  <script src="script.js" defer></script>
</head>
<body>
  <div class="app-shell">
    <aside class="sidebar">
      <div class="brand">
        <div class="brand-icon" aria-hidden="true"><img class="brand-img" alt="logo" src="https://raw.githubusercontent.com/wejkey/wejkey/main/images/greenwejkey.png"></div>
        <div>
          <h1 data-i18n="brand.title">Savings</h1>
          <span>Savings</span>
        </div>
      </div>
      <nav class="nav">
        <button class="nav-link active" data-target="dashboard" data-i18n="nav.dashboard">Dashboard</button>
        <button class="nav-link" data-target="plans" data-i18n="nav.plans">Plans</button>
        <button class="nav-link" data-target="transactions" data-i18n="nav.transactions">Transactions</button>
        <button class="nav-link" data-target="settings" data-i18n="nav.settings">Settings</button>
      </nav>
      <div class="sidebar-footer">
        <button class="ghost" id="export-data-btn" data-i18n="btn.exportData">Export Data</button>
        <button class="ghost" id="import-data-btn" data-i18n="btn.importData">Import Data</button>
        <input type="file" id="import-file-input" accept="application/json" hidden>
      </div>
    </aside>

    <main class="content">
      <header class="topbar">
        <div class="topbar-text">
          <h2 id="view-title" data-i18n="top.dashboardTitle">Dashboard Overview</h2>
          <p data-i18n="top.dashboardSub">Track your saving journey, plan smarter and celebrate every milestone.</p>
        </div>
        <div class="topbar-actions">
          <button class="secondary" id="quick-transaction-btn" data-i18n="btn.quickTransaction">Quick Transaction</button>
          <button class="primary" id="new-plan-btn" data-i18n="btn.newPlan">New Saving Plan</button>
        </div>
      </header>

      <section class="view active" data-view="dashboard">
        <div class="stats-grid">
          <article class="stat-card">
            <div class="stat-label" data-i18n="stats.totalSaved">Total Saved</div>
            <div class="stat-value" id="total-saved">€0</div>
            <div class="stat-subtext" data-i18n="stats.acrossAllPlans">Across all plans</div>
            <div class="stat-breakdown" id="stat-breakdown"></div>
          </article>
          <article class="stat-card">
            <div class="stat-label" data-i18n="stats.monthlyProgress">Monthly Progress</div>
            <div class="stat-value" id="monthly-progress">€0</div>
            <div class="stat-subtext" id="monthly-progress-subtext" data-i18n="stats.ofTarget">0% of target</div>
          </article>
          <article class="stat-card">
            <div class="stat-label" data-i18n="stats.activePlans">Active Plans</div>
            <div class="stat-value" id="plan-count">0</div>
            <div class="stat-subtext" id="plan-status" data-i18n="stats.noPlansYet">No plans yet</div>
          </article>
          <article class="stat-card">
            <div class="stat-label" data-i18n="stats.averageCompletion">Average Completion</div>
            <div class="stat-value" id="average-completion">0%</div>
            <div class="stat-subtext" data-i18n="stats.weightedAcross">Weighted across all plans</div>
          </article>
        </div>

        <div class="panel-grid">
          <section class="panel large">
            <header class="panel-header">
              <div>
                <h3 data-i18n="panel.cashFlowTrends">Cash Flow Trends</h3>
                <p data-i18n="panel.monthlyDepositsVsWithdrawals">Monthly deposits versus withdrawals</p>
              </div>
              <div class="chart-legend" id="chart-legend"></div>
            </header>
            <div class="panel-body">
              <canvas id="trend-chart" aria-label="Savings trend chart" role="img"></canvas>
            </div>
          </section>

          <section class="panel medium">
            <header class="panel-header">
              <div>
                <h3 data-i18n="panel.focusPlans">Focus Plans</h3>
                <p data-i18n="panel.recentPlansAndProgress">Most recent plans and their progress</p>
              </div>
              <button class="ghost" data-target="plans" data-i18n="btn.viewAll">View all</button>
            </header>
            <div class="panel-body" id="focus-plans"></div>
          </section>

          <section class="panel medium">
            <header class="panel-header">
              <div>
                <h3 data-i18n="panel.recentTransactions">Recent Transactions</h3>
                <p data-i18n="panel.latestDepositsWithdrawals">Latest deposits and withdrawals</p>
              </div>
              <button class="ghost" data-target="transactions" data-i18n="btn.viewAll">View all</button>
            </header>
            <div class="panel-body" id="recent-transactions"></div>
          </section>
        </div>
      </section>

      <section class="view" data-view="plans">
        <div class="section-header">
          <div>
            <h2 data-i18n="plans.title">Saving Plans</h2>
            <p data-i18n="plans.subtitle">Create detailed plans and monitor their progress.</p>
          </div>
          <button class="primary" id="create-plan-btn" data-i18n="btn.createPlan">Create plan</button>
        </div>
        <div class="plan-list" id="plan-list"></div>
        <div class="empty-state" id="plan-empty-state">
          <h3 data-i18n="empty.noPlans">No plans yet</h3>
          <p data-i18n="empty.createPlanSubtitle">Start by creating a plan to visualise your saving goals.</p>
          <button class="primary" id="empty-plan-btn" data-i18n="empty.createFirstPlan">Create your first plan</button>
        </div>
      </section>

      <section class="view" data-view="transactions">
        <div class="section-header">
          <div>
            <h2 data-i18n="transactions.title">Transactions</h2>
            <p data-i18n="transactions.subtitle">All deposits and withdrawals from your plans.</p>
          </div>
              <div class="filters">
                <select id="transaction-plan-filter">
                  <option value="all" data-i18n="filters.allPlans">All plans</option>
                </select>
                <select id="transaction-type-filter">
                  <option value="all" data-i18n="filters.allTypes">All types</option>
                  <option value="deposit" data-i18n="type.deposits">Deposits</option>
                  <option value="withdrawal" data-i18n="type.withdrawals">Withdrawals</option>
                </select>
              </div>
        </div>
        <div class="transaction-table" id="transaction-table"></div>
        <div class="empty-state" id="transaction-empty-state">
          <h3 data-i18n="empty.noTransactions">No transactions recorded</h3>
          <p data-i18n="empty.noTransactionsSubtitle">Record your first deposit or withdrawal to start tracking cash flow.</p>
          <button class="primary" id="empty-transaction-btn" data-i18n="btn.addTransaction">Add transaction</button>
        </div>
      </section>

      <section class="view" data-view="settings">
        <div class="section-header">
          <div>
            <h2 data-i18n="settings.title">Settings & Insights</h2>
            <p data-i18n="settings.subtitle">Fine tune your experience and control how your data is stored.</p>
          </div>
        </div>
        <div class="settings-grid">
          <section class="panel">
            <header class="panel-header">
              <h3 data-i18n="settings.personalisation">Personalisation</h3>
            </header>
            <div class="panel-body settings-body">
              <div class="form-field">
                <label for="currency-select" data-i18n="field.currency">Currency</label>
                <select id="currency-select">
                  <option value="EUR">EUR (€)</option>
                  <option value="USD">USD ($)</option>
                  <option value="GBP">GBP (£)</option>
                  <option value="JPY">JPY (¥)</option>
                  <option value="AUD">AUD (A$)</option>
                  <option value="CAD">CAD (C$)</option>
                  <option value="INR">INR (₹)</option>
                </select>
              </div>
              <div class="form-field">
                <label for="theme-select" data-i18n="field.theme">Theme</label>
                <select id="theme-select">
                  <option value="light" data-i18n="theme.light">White</option>
                  <option value="dark" data-i18n="theme.dark">Dark</option>
                  <option value="dark-blue" data-i18n="theme.darkBlue">Dark Blue</option>
                </select>
              </div>
              <div class="form-field">
                <label for="lang-select" data-i18n="field.language">Language</label>
                <select id="lang-select">
                  <option value="en" data-i18n="lang.en">English</option>
                  <option value="sk" data-i18n="lang.sk">Slovak</option>
                </select>
              </div>
              
              
            </div>
          </section>

          <section class="panel">
            <header class="panel-header">
              <h3 data-i18n="security.title">Security</h3>
            </header>
            <div class="panel-body settings-body">
              <div class="security-status">
                <span data-i18n="security.statusLabel">Status:</span>
                <strong id="security-status">Unlocked</strong>
              </div>
              <p class="security-description" data-i18n="security.description">Protect your savings data with AES-GCM encryption bound to a password. Enter the same password on another device to unlock your vault.</p>
              <form id="password-form" class="security-form">
                <div class="form-field">
                  <label for="password-input" data-i18n="field.password">Password</label>
                  <input type="password" id="password-input" autocomplete="new-password">
                </div>
                <div class="form-field" id="confirm-password-wrapper">
                  <label for="password-confirm-input" data-i18n="field.confirmPassword">Confirm password</label>
                  <input type="password" id="password-confirm-input" autocomplete="new-password">
                </div>
                <button type="submit" class="primary" id="set-password-btn" data-i18n="btn.enableProtection">Enable protection</button>
              </form>
              <button class="ghost danger" id="disable-password-btn" data-i18n="btn.disableProtection">Disable protection</button>
            </div>
          </section>

          <section class="panel">
            <header class="panel-header">
              <h3 data-i18n="dataControl.title">Data control</h3>
            </header>
            <div class="panel-body settings-body">
              <p data-i18n="dataControl.desc">Back up or reset your data whenever you need to.</p>
              <div class="data-actions"></div>
              <button class="ghost danger" id="reset-data-btn" data-i18n="btn.reset">Reset</button>
            </div>
          </section>
        </div>
      </section>
    </main>
  </div>

  <div class="modal" id="plan-modal" aria-hidden="true">
    <div class="modal-dialog">
      <header class="modal-header">
        <div class="modal-title">
          <img class="modal-icon" alt="" src="https://raw.githubusercontent.com/wejkey/wejkey/main/images/greenwejkey.png">
          <h3 id="plan-modal-title" data-i18n="modal.createPlan">Create plan</h3>
        </div>
        <button class="icon-button" data-close>&times;</button>
      </header>
      <form id="plan-form" class="modal-body">
        <div class="form-field">
          <label for="plan-name" data-i18n="field.planName">Plan name</label>
          <input type="text" id="plan-name" required>
        </div>
        <div class="form-grid">
          <div class="form-field">
            <label for="plan-target" data-i18n="field.targetAmount">Target amount</label>
            <input type="number" id="plan-target" min="0" step="0.01" required>
          </div>
          <div class="form-field">
            <label for="plan-color" data-i18n="field.accentColor">Accent colour</label>
            <input type="color" id="plan-color" value="#5468ff">
          </div>
        </div>
        <div class="form-grid">
          <div class="form-field">
            <label for="plan-start" data-i18n="field.startDate">Start date</label>
            <input type="date" id="plan-start">
          </div>
          <div class="form-field">
            <label for="plan-due" data-i18n="field.dueDate">Due date</label>
            <input type="date" id="plan-due">
          </div>
        </div>
        <div class="form-field">
          <label for="plan-notes" data-i18n="field.description">Description</label>
          <textarea id="plan-notes" rows="3" placeholder="What are you saving for?" data-i18n-placeholder="ph.planNotes"></textarea>
        </div>
        <footer class="modal-footer">
          <button type="button" class="ghost" data-close data-i18n="btn.cancel">Cancel</button>
          <button type="submit" class="primary" data-i18n="btn.savePlan">Save plan</button>
        </footer>
      </form>
    </div>
  </div>

  <div class="modal" id="transaction-modal" aria-hidden="true">
    <div class="modal-dialog">
      <header class="modal-header">
        <div class="modal-title">
          <img class="modal-icon" alt="" src="https://raw.githubusercontent.com/wejkey/wejkey/main/images/greenwejkey.png">
          <h3 id="transaction-modal-title" data-i18n="modal.addTransaction">Add transaction</h3>
        </div>
        <button class="icon-button" data-close>&times;</button>
      </header>
      <form id="transaction-form" class="modal-body">
        <div class="form-field">
          <label for="transaction-plan" data-i18n="field.plan">Plan</label>
          <select id="transaction-plan" required></select>
        </div>
        <div class="form-grid">
          <div class="form-field">
            <label for="transaction-type" data-i18n="field.type">Type</label>
            <select id="transaction-type" required>
              <option value="deposit" data-i18n="type.deposit">Deposit</option>
              <option value="withdrawal" data-i18n="type.withdrawal">Withdrawal</option>
            </select>
          </div>
          <div class="form-field">
            <label for="transaction-amount" data-i18n="field.amount">Amount</label>
            <input type="number" id="transaction-amount" min="0" step="0.01" required>
          </div>
        </div>
        <div class="form-grid">
          <div class="form-field">
            <label for="transaction-date" data-i18n="field.date">Date</label>
            <input type="date" id="transaction-date" required>
          </div>
          <div class="form-field">
            <label for="transaction-note" data-i18n="field.note">Note</label>
            <input type="text" id="transaction-note" placeholder="Optional" data-i18n-placeholder="ph.optional">
          </div>
        </div>
        <footer class="modal-footer">
          <button type="button" class="ghost" data-close data-i18n="btn.cancel">Cancel</button>
          <button type="submit" class="primary" data-i18n="btn.save">Save</button>
        </footer>
      </form>
    </div>
  </div>

  <div class="modal" id="auth-modal" aria-hidden="true">
    <div class="modal-dialog small">
      <header class="modal-header">
        <div class="modal-title">
          <img class="modal-icon" alt="" src="https://raw.githubusercontent.com/wejkey/wejkey/main/images/greenwejkey.png">
          <h3 id="auth-modal-title" data-i18n="modal.unlockVault">Unlock your vault</h3>
        </div>
      </header>
      <form id="auth-form" class="modal-body">
        <div class="form-field">
          <label for="auth-password" data-i18n="field.vaultPassword">Vault password</label>
          <input type="password" id="auth-password" autocomplete="current-password" required>
        </div>
        <p class="modal-hint" id="auth-hint" data-i18n="auth.hint">Enter your password to decrypt locally stored data.</p>
        <footer class="modal-footer">
          <button type="submit" class="primary" id="auth-submit" data-i18n="btn.unlock">Unlock</button>
        </footer>
      </form>
    </div>
  </div>

  <div class="toast-container" id="toast-container" aria-live="polite" aria-atomic="true"></div>

  <div class="cookie-notice" id="cookie-notice" aria-live="polite" aria-atomic="true" hidden>
    <div class="cookie-notice__content">
      <p>
        This app saves your data in this browser's local storage (not cookies). Deleting cookies alone will not remove it. Clearing site data/storage for this site (or using Reset in Settings) will permanently erase your data.
      </p>
      <div class="cookie-notice__actions">
        <button class="primary" id="cookie-accept">OK</button>
      </div>
    </div>
  </div>
</body>
</html>
  
